var _Mathfloor=Math.floor,scrollDelay=void 0;function pageScroll(){window.scrollBy(0,-50),scrollDelay=setTimeout(pageScroll,10),10>=$(window).scrollTop()&&clearTimeout(scrollDelay)}$(document).ready(function(){$('#totop').click(pageScroll)});function VtException(a){this.message=a,this.name='Exception'}var evol=new Vue({el:'#app',data:{peel:_Mathfloor(2147483647*Math.random()),word:'\u7B49\u5F85\u5F00\u59CB',classInfo:[],availableClasses:[],animationSelects:['none','scale','zoom','fade','fade up','fade down','fade left','fade right','horizontal flip','vertical flip','drop','fly up','fly down','fly left','fly right','swing left','swing right','swing up','swing down','slide left','slide right','slide up','slide down','browse','browse left','browse right','jiggle','flash','shake','pulse','tada','bounce'],animationSelect:'fade',isStop:1,classId:4,delayTimer:0,delayCounter:500,nowTime:'',nowTimer:'',timer:'',mainTextStyle:'#app{opacity:0.7;background-color:rgba(255,255,255,.7) !important;backdrop-filter: blur(5px);}.mainText {font-size: 70px !important;font-weight: 300 !important;color: #FF1493 !important;}.Me {color: #47af50;}',say:'Loading...',meRange:[],youRange:[],classmates:[{id:0,select:'\u7269\u5316\u751F',name:'\u672A\u77E5',sex:0}],randomCondition1:'Class == 4',randomCondition2:'Class == 4',meClasses:'',meSelects:'',youClasses:'',youSelects:''},mounted:function mounted(){var a=this;a.nowTimer=setInterval(function(){a.nowTime=moment().format('HH:mm:ss')},1e3)},beforeDestroy:function beforeDestroy(){clearInterval(this.timer),clearInterval(this.nowTimer)},methods:{rand:function rand(){return this.peel=(214013*this.peel+2531011)%2147483647},stopToggle:function stopToggle(){this.isStop=1-this.isStop,this.isStop?clearInterval(this.timer):this.timer=setInterval(this.timeCount,10)},stop:function stop(){this.isStop=1,clearInterval(this.timer)},changeStyle:function changeStyle(){try{$('#customizeStyle').html(this.mainTextStyle)}catch(a){$('body').toast({title:'Oops!',message:a.message,showProgress:'bottom',classProgress:'red',class:'red',className:{toast:'ui message'}})}},calcRange:function calcRange(){var _this=this;try{_this.meRange=[];for(var i=0;i<_this.classmates.length;++i){var Class=_this.classmates[i].class,Name=_this.classmates[i].name,Sex=_this.classmates[i].sex,Select=_this.classmates[i].select,Id=_this.classmates[i].id;eval(_this.randomCondition1)&&_this.meRange.push(_this.classmates[i])}_this.youRange=[];for(var _i=0;_i<_this.classmates.length;++_i){var _Class=_this.classmates[_i].class,_Name=_this.classmates[_i].name,_Sex=_this.classmates[_i].sex,_Select=_this.classmates[_i].select,_Id=_this.classmates[_i].id;eval(_this.randomCondition2)&&_this.youRange.push(_this.classmates[_i])}}catch(a){$('body').toast({title:'Oops!',message:a.message,showProgress:'bottom',classProgress:'red',class:'red',className:{toast:'ui message'}}),_this.stop()}},changeSay:function changeSay(){var _this=this;try{_this.delayCounter=100*_this.delayTimer;var me,you,rand=_this.rand;if(1<=_this.delayTimer&&'none'!=_this.animationSelect&&('zoom'==_this.animationSelect||'scale'==_this.animationSelect||'drop'==_this.animationSelect||'fade'==_this.animationSelect||'fade up'==_this.animationSelect||'fade down'==_this.animationSelect||'fade left'==_this.animationSelect||'fade right'==_this.animationSelect||'fly left'==_this.animationSelect||'fly right'==_this.animationSelect||'fly up'==_this.animationSelect||'fly down'==_this.animationSelect||'swing up'==_this.animationSelect||'swing down'==_this.animationSelect||'swing left'==_this.animationSelect||'swing right'==_this.animationSelect||'slide up'==_this.animationSelect||'slide down'==_this.animationSelect||'slide left'==_this.animationSelect||'slide right'==_this.animationSelect||'browse'==_this.animationSelect||'browse left'==_this.animationSelect||'browse right'==_this.animationSelect||'horizontal flip'==_this.animationSelect||'vertical flip'==_this.animationSelect)&&$('.mainText').transition(_this.animationSelect+' out'),_this.calcRange(),0==_this.meRange.length){throw new VtException('\u627E\u4E0D\u5230\u7B26\u5408\u6761\u4EF6\u7684 \u6211')}if(me=_this.meRange[rand()%_this.meRange.length].name,0==_this.youRange.length){throw new VtException('\u627E\u4E0D\u5230\u7B26\u5408\u6761\u4EF6\u7684 \u4F60')}if(you=_this.youRange[rand()%_this.youRange.length].name,me='<span class=\'Me\'>'+me+'</span>',you='<span class=\'You\'>'+you+'</span>',1<=_this.delayTimer)setTimeout(function(){_this.say=_this.word;var rpm=_this.say.match(/{{[a-zA-Z0-9\+\-\*\s\/]*}}/g);if(null!=rpm)for(var pt,i=0;i<rpm.length;++i)pt=rpm[i].replace('{','').replace('}','').trim(),_this.say=_this.say.replace(rpm[i],eval(pt))},300);else{_this.say=_this.word;var rpm=_this.say.match(/{{[a-zA-Z0-9\+\-\*\s\/]*}}/g);if(null!=rpm)for(var pt,i=0;i<rpm.length;++i)pt=rpm[i].replace('{','').replace('}','').trim(),_this.say=_this.say.replace(rpm[i],eval(pt))}1<=_this.delayTimer&&'none'!=_this.animationSelect&&$('.mainText').transition(_this.animationSelect)}catch(a){$('body').toast({title:'Oops!',message:a.message,showProgress:'bottom',classProgress:'red',class:'red',className:{toast:'ui message'}}),_this.stop()}},doMeParse:function doMeParse(){this.randomCondition1='',this.meClasses&&(this.randomCondition1='(['+this.meClasses+'].indexOf(Class) != -1)'),this.meSelects&&(''!=this.randomCondition1&&(this.randomCondition1+='&&'),this.randomCondition1+='(Select.indexOf("'+this.meSelects+'") != -1)'),this.calcRange()},doYouParse:function doYouParse(){this.randomCondition2='',this.youClasses&&(this.randomCondition2='(['+this.youClasses+'].indexOf(Class) != -1)'),this.youSelects&&(''!=this.randomCondition2&&(this.randomCondition2+='&&'),this.randomCondition2+='(Select.indexOf("'+this.youSelects+'") != -1)'),this.calcRange()},timeCount:function timeCount(){var a=this;0<a.delayCounter?--a.delayCounter:!this.isStop&&a.changeSay()}},filters:{timize:function timize(a){return''+_Mathfloor(a/100)+'.'+(10>a%100?'0':'')+a%100}}});$('.menu .item').tab(),$('#inline_calendar').calendar({type:'date'});function getData(a){if($('#rawData').val(JSON.stringify(a,null,'\t')),evol.word=a.word,evol.say='\u7B49\u5F85\u5F00\u59CB.',evol.delayTimer=a.delayTime,evol.delayCounter=100*a.delayTime,'\u672A\u77E5'==evol.classmates[0].name){evol.classmates=[];for(var b=0;b<a.classData.length;++b){for(var c=0;c<a.classData[b].classMates.length;++c)a.classData[b].classMates[c]['class']=a.classData[b].classId;evol.classmates=evol.classmates.concat(a.classData[b].classMates),evol.classInfo.push(a.classData[b])}evol.classId=a.class,evol.randomCondition1='Class == '+a.class,evol.randomCondition2='Class == '+a.class,evol.meClasses=a.class,evol.youClasses=a.class,evol.meClassRange=[4],evol.availableClasses=a.availableClasses,evol.calcRange();for(var b=0;b<evol.classmates.length;++b)$('.ui.dropdown.customizeRange1').append($('<option></option>').val(evol.classmates[b].name).text(evol.classmates[b].class+'\u73ED'+evol.classmates[b].name)),$('.ui.dropdown.customizeRange2').append($('<option></option>').val(evol.classmates[b].name).text(evol.classmates[b].class+'\u73ED'+evol.classmates[b].name));setTimeout(function(){$('select.ui.dropdown').dropdown()},10)}}